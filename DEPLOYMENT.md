# é‡‘èæŠ¥å‘Šç³»ç»Ÿéƒ¨ç½²æŒ‡å—

> è‡ªåŠ¨åŒ–é‡‘èæ•°æ®è°ƒç ”ä¸æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº Mini Agent çš„è‡ªåŠ¨åŒ–é‡‘èæŠ¥å‘Šç³»ç»Ÿï¼Œå…·å¤‡ä»¥ä¸‹åŠŸèƒ½ï¼š

- ğŸ¤– **AI é©±åŠ¨**ï¼šä½¿ç”¨ MiniMax M2.1 æ¨¡å‹è¿›è¡Œæ™ºèƒ½åˆ†æ
- â° **å®šæ—¶ä»»åŠ¡**ï¼šæ¯å¤©è‡ªåŠ¨ç”Ÿæˆé‡‘èå¸‚åœºåˆ†ææŠ¥å‘Š
- ğŸŒ **Web ç•Œé¢**ï¼šç¾è§‚çš„æŠ¥å‘Šå±•ç¤ºå’Œç®¡ç†ç•Œé¢
- ğŸ“Š **æ•°æ®è°ƒç ”**ï¼šé€šè¿‡ MCP å·¥å…·è‡ªåŠ¨æœç´¢æœ€æ–°é‡‘èæ•°æ®
- ğŸ³ **å®¹å™¨åŒ–**ï¼šDocker ä¸€é”®éƒ¨ç½²ï¼Œæ˜“äºæ‰©å±•

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚  ğŸŒ Web æœåŠ¡å™¨ (Flask)                          â”‚
â”‚  ç«¯å£: 8080                                     â”‚
â”‚  åŠŸèƒ½: æŠ¥å‘Šå±•ç¤ºã€ä¸‹è½½                           â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â° å®šæ—¶è°ƒåº¦å™¨ (Schedule)                       â”‚
â”‚  é»˜è®¤: æ¯å¤© 09:00                               â”‚
â”‚  åŠŸèƒ½: è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š                             â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ¤– Mini Agent                                  â”‚
â”‚  åŠŸèƒ½: AI è°ƒç ”ä¸åˆ†æ                            â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ“‚ æŠ¥å‘Šå­˜å‚¨                                    â”‚
â”‚  è·¯å¾„: ./reports                                â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ–¹å¼ä¸€ï¼šDocker Compose éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 1. å‰ç½®è¦æ±‚

- Docker 20.10+
- Docker Compose 2.0+
- MiniMax API Key

#### 2. é…ç½®æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git clone https://github.com/MiniMax-AI/Mini-Agent.git
cd Mini-Agent

# 2. é…ç½® API Key
vim mini_agent/config/config.yaml
```

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keyï¼š

```yaml
api_key: "YOUR_API_KEY_HERE"
api_base: "https://api.minimaxi.com"  # æˆ– https://api.minimax.io
model: "MiniMax-M2.1"
provider: "anthropic"

# ç¡®ä¿ MCP å·¥å…·å·²å¯ç”¨ï¼ˆç”¨äºç½‘ç»œæœç´¢ï¼‰
tools:
  enable_mcp: true
  mcp_config_path: "mcp.json"
```

#### 3. å¯åŠ¨æœåŠ¡

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f web        # Web æœåŠ¡å™¨æ—¥å¿—
docker-compose logs -f scheduler  # è°ƒåº¦å™¨æ—¥å¿—
```

#### 4. è®¿é—®ç³»ç»Ÿ

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:8080**

#### 5. ç®¡ç†å‘½ä»¤

```bash
# åœæ­¢æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æ‰‹åŠ¨è§¦å‘æŠ¥å‘Šç”Ÿæˆï¼ˆç”¨äºæµ‹è¯•ï¼‰
docker-compose exec scheduler python scheduler.py --once --reports-dir /app/reports
```

### æ–¹å¼äºŒï¼šæœ¬åœ°éƒ¨ç½²

#### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… uv
curl -LsSf https://astral.sh/uv/install.sh | sh

# åŒæ­¥é¡¹ç›®ä¾èµ–
uv sync

# å®‰è£…é¢å¤–ä¾èµ–
uv pip install flask markdown schedule
```

#### 2. é…ç½®

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp mini_agent/config/config-example.yaml mini_agent/config/config.yaml

# ç¼–è¾‘é…ç½®ï¼Œå¡«å…¥ API Key
vim mini_agent/config/config.yaml
```

#### 3. å¯åŠ¨æœåŠ¡

```bash
# ç»ˆç«¯ 1: å¯åŠ¨ Web æœåŠ¡å™¨
python web_server.py --reports-dir ./reports --port 8080

# ç»ˆç«¯ 2: å¯åŠ¨å®šæ—¶è°ƒåº¦å™¨
python scheduler.py --reports-dir ./reports --time 09:00

# æˆ–è€…æ‰‹åŠ¨ç”Ÿæˆä¸€æ¬¡æŠ¥å‘Šï¼ˆç”¨äºæµ‹è¯•ï¼‰
python financial_reporter.py --reports-dir ./reports
```

## âš™ï¸ é…ç½®è¯´æ˜

### è°ƒåº¦æ—¶é—´é…ç½®

ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç¯å¢ƒå˜é‡ï¼š

```yaml
environment:
  - SCHEDULE_TIME=09:00  # ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰
```

æˆ–åœ¨å¯åŠ¨æ—¶æŒ‡å®šï¼š

```bash
SCHEDULE_TIME=15:30 docker-compose up -d
```

### æŠ¥å‘Šä¸»é¢˜é…ç½®

ç¼–è¾‘ `financial_reporter.py` ä¸­çš„ `topics` åˆ—è¡¨æ¥è‡ªå®šä¹‰è°ƒç ”ä¸»é¢˜ï¼š

```python
topics = [
    "ä»Šæ—¥Aè‚¡å¸‚åœºä¸»è¦æŒ‡æ•°çš„æ¶¨è·Œæƒ…å†µ",
    "ä»Šæ—¥ç¾è‚¡ä¸‰å¤§æŒ‡æ•°çš„è¡¨ç°",
    "ä»Šæ—¥é»„é‡‘ã€åŸæ²¹ç­‰å¤§å®—å•†å“ä»·æ ¼å˜åŒ–",
    "ä»Šæ—¥äººæ°‘å¸å…‘ç¾å…ƒæ±‡ç‡å˜åŒ–",
    "è¿‘æœŸé‡è¦çš„è´¢ç»æ–°é—»å’Œæ”¿ç­–",
    # æ·»åŠ ä½ è‡ªå·±çš„ä¸»é¢˜...
]
```

### èµ„æºé™åˆ¶é…ç½®

åœ¨ `docker-compose.yml` ä¸­è°ƒæ•´èµ„æºé™åˆ¶ï¼š

```yaml
deploy:
  resources:
    limits:
      cpus: '2.0'      # CPU æ ¸å¿ƒæ•°
      memory: 4G       # å†…å­˜é™åˆ¶
```

## ğŸ“Š ä½¿ç”¨è¯´æ˜

### Web ç•Œé¢åŠŸèƒ½

1. **æŠ¥å‘Šåˆ—è¡¨**ï¼šæŸ¥çœ‹æ‰€æœ‰å†å²æŠ¥å‘Š
2. **æŠ¥å‘Šè¯¦æƒ…**ï¼šç‚¹å‡»"æŸ¥çœ‹æŠ¥å‘Š"é˜…è¯»å®Œæ•´å†…å®¹
3. **ä¸‹è½½æŠ¥å‘Š**ï¼šä¸‹è½½ Markdown æ ¼å¼çš„åŸå§‹æŠ¥å‘Š
4. **ç»Ÿè®¡ä¿¡æ¯**ï¼šæ€»æŠ¥å‘Šæ•°ã€æˆåŠŸæ•°ã€å¤±è´¥æ•°

### API æ¥å£

ç³»ç»Ÿæä¾›ä»¥ä¸‹ API æ¥å£ï¼š

```bash
# è·å–æ‰€æœ‰æŠ¥å‘Šåˆ—è¡¨
GET http://localhost:8080/api/reports

# è·å–æŒ‡å®šæŠ¥å‘Šå†…å®¹
GET http://localhost:8080/api/report/<filename>

# å¥åº·æ£€æŸ¥
GET http://localhost:8080/health
```

### æ‰‹åŠ¨ç”ŸæˆæŠ¥å‘Š

```bash
# Docker ç¯å¢ƒ
docker-compose exec scheduler python financial_reporter.py --reports-dir /app/reports

# æœ¬åœ°ç¯å¢ƒ
python financial_reporter.py --reports-dir ./reports
```

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šæŠ¥å‘Šç”Ÿæˆå¤±è´¥

**æ£€æŸ¥é¡¹ï¼š**

1. ç¡®è®¤ API Key é…ç½®æ­£ç¡®
2. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆéœ€è¦è®¿é—® MiniMax APIï¼‰
3. ç¡®è®¤ MCP å·¥å…·å·²å¯ç”¨ï¼ˆç”¨äºç½‘ç»œæœç´¢ï¼‰
4. æŸ¥çœ‹è°ƒåº¦å™¨æ—¥å¿—ï¼š`docker-compose logs scheduler`

### é—®é¢˜ 2ï¼šWeb ç•Œé¢æ— æ³•è®¿é—®

**æ£€æŸ¥é¡¹ï¼š**

1. ç¡®è®¤å®¹å™¨è¿è¡ŒçŠ¶æ€ï¼š`docker-compose ps`
2. æ£€æŸ¥ç«¯å£å ç”¨ï¼š`lsof -i :8080`
3. æŸ¥çœ‹ Web æœåŠ¡æ—¥å¿—ï¼š`docker-compose logs web`

### é—®é¢˜ 3ï¼šå®šæ—¶ä»»åŠ¡æœªæ‰§è¡Œ

**æ£€æŸ¥é¡¹ï¼š**

1. ç¡®è®¤è°ƒåº¦å™¨å®¹å™¨è¿è¡Œï¼š`docker-compose ps scheduler`
2. æ£€æŸ¥æ—¶åŒºè®¾ç½®ï¼ˆå®¹å™¨å†…æ—¶åŒºåº”ä¸º Asia/Shanghaiï¼‰
3. æŸ¥çœ‹è°ƒåº¦å™¨æ—¥å¿—ç¡®è®¤ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´

## ğŸ” ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®

### 1. å®‰å…¨é…ç½®

```bash
# è®¾ç½®æ–‡ä»¶æƒé™
chmod 600 mini_agent/config/config.yaml

# ä½¿ç”¨ç¯å¢ƒå˜é‡ä¼ é€’æ•æ„Ÿä¿¡æ¯
docker-compose.yml:
  environment:
    - MINIMAX_API_KEY=${MINIMAX_API_KEY}
```

### 2. åå‘ä»£ç†ï¼ˆä½¿ç”¨ Nginxï¼‰

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 3. HTTPS é…ç½®

```bash
# ä½¿ç”¨ Let's Encrypt
certbot --nginx -d your-domain.com
```

### 4. å¤‡ä»½ç­–ç•¥

```bash
# å®šæœŸå¤‡ä»½æŠ¥å‘Šç›®å½•
0 2 * * * tar -czf /backup/reports-$(date +\%Y\%m\%d).tar.gz /path/to/reports
```

### 5. ç›‘æ§å’Œæ—¥å¿—

```bash
# é›†æˆæ—¥å¿—æ”¶é›†
docker-compose.yml:
  logging:
    driver: "json-file"
    options:
      max-size: "10m"
      max-file: "3"
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. èµ„æºè°ƒæ•´

æ ¹æ®å®é™…è´Ÿè½½è°ƒæ•´ CPU å’Œå†…å­˜é™åˆ¶ã€‚

### 2. æŠ¥å‘Šç¼“å­˜

å¯¹äºé¢‘ç¹è®¿é—®çš„æŠ¥å‘Šï¼Œå¯ä»¥æ·»åŠ ç¼“å­˜å±‚ã€‚

### 3. æ•°æ®åº“å­˜å‚¨

å¯¹äºå¤§é‡æŠ¥å‘Šï¼Œå»ºè®®ä½¿ç”¨æ•°æ®åº“å­˜å‚¨å…ƒæ•°æ®ï¼š

```python
# å¯é€‰ï¼šä½¿ç”¨ SQLite æˆ– PostgreSQL
# æ›¿æ¢ JSON æ–‡ä»¶å­˜å‚¨
```

## ğŸ¯ æ‰©å±•åŠŸèƒ½

### 1. é‚®ä»¶é€šçŸ¥

åœ¨æŠ¥å‘Šç”Ÿæˆåå‘é€é‚®ä»¶ï¼š

```python
# åœ¨ financial_reporter.py ä¸­æ·»åŠ 
import smtplib
from email.mime.text import MIMEText

def send_email_notification(report_path):
    # å®ç°é‚®ä»¶å‘é€é€»è¾‘
    pass
```

### 2. å¤šæ—¶æ®µæŠ¥å‘Š

ç”Ÿæˆä¸åŒæ—¶æ®µçš„æŠ¥å‘Šï¼š

```yaml
# docker-compose.yml
services:
  scheduler-morning:
    command: python scheduler.py --time 09:00
  scheduler-afternoon:
    command: python scheduler.py --time 15:00
```

### 3. è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿

åˆ›å»ºä¸åŒç±»å‹çš„æŠ¥å‘Šæ¨¡æ¿ã€‚

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- é¡¹ç›®åœ°å€ï¼šhttps://github.com/MiniMax-AI/Mini-Agent
- é—®é¢˜åé¦ˆï¼šæäº¤ GitHub Issue
- MiniMax æ–‡æ¡£ï¼šhttps://platform.minimaxi.com/document

## ğŸ“„ è®¸å¯è¯

MIT License

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª Starï¼**
