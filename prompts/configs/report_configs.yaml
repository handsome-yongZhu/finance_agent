# 报告配置 - 基于正交分离设计
# 
# 核心理念：
#   分析视角（如何分析）× 写作形式（如何组织）
# 
# 两个维度完全独立：
#   - 分析视角：professional（专业深度分析）/ normal（通俗叙事分析）
#   - 写作形式：first（首次完整报告）/ incremental（增量更新报告）
#   
# 可以自由组合成 2×2 = 4 种报告类型

report_types:
  stock_report:
    # ========================================
    # 专业视角 × 首次报告
    # ========================================
    professional_first:
      description: "面向专业投资者的深度分析报告（首次完整版）"
      components:
        - base/system_prompt.md                        # 基础系统提示
        - analysis_perspectives/professional.md        # 专业分析方法论
        - writing_formats/first_time.md                # 首次报告写作原则
        - report_structures/professional_first.md      # 具体报告结构
        - components/data_requirements.md              # 数据搜索要求
        - components/chart_specifications.md           # 图表规格
        - components/compliance_rules.md               # 合规要求
      output_specs:
        chart_required: true
        chart_types: ["kline", "volume"]
        max_length: null                               # 不限制长度
        min_sections: 5
        format_style: "academic"
    
    # ========================================
    # 专业视角 × 增量报告
    # ========================================
    professional_incremental:
      description: "面向专业投资者的深度分析报告（增量更新版）"
      components:
        - base/system_prompt.md
        - analysis_perspectives/professional.md        # 同样的分析方法
        - writing_formats/incremental.md               # 增量写作原则
        - report_structures/professional_incremental.md  # 增量报告结构
        - components/data_requirements.md
        - components/chart_specifications.md
        - components/compliance_rules.md
      output_specs:
        chart_required: true
        chart_types: ["kline", "volume"]
        max_length: null
        focus_on_changes: true                         # 重点关注变化
        comparison_required: true                      # 需要对比上次
        format_style: "academic"
    
    # ========================================
    # 通俗视角 × 首次报告
    # ========================================
    normal_first:
      description: "面向普通投资者的叙事分析报告（6段式完整版）"
      components:
        - base/system_prompt.md
        - analysis_perspectives/normal.md              # 通俗叙事方法
        - writing_formats/first_time.md                # 首次报告写作原则
        - report_structures/normal_first.md            # 6段式结构
        - components/data_requirements.md
        - components/chart_specifications.md
        - components/compliance_rules.md
      output_specs:
        chart_required: true
        chart_types: ["kline"]
        max_length: 3000                               # 控制在3000字
        sections: 6                                    # 固定6段式
        format_style: "narrative"                      # 叙事风格
    
    # ========================================
    # 通俗视角 × 增量报告
    # ========================================
    normal_incremental:
      description: "面向普通投资者的叙事分析报告（简化更新版）"
      components:
        - base/system_prompt.md
        - analysis_perspectives/normal.md              # 同样的叙事方法
        - writing_formats/incremental.md               # 增量写作原则
        - report_structures/normal_incremental.md      # 简化的6段式
        - components/data_requirements.md
        - components/chart_specifications.md
        - components/compliance_rules.md
      output_specs:
        chart_required: true
        chart_types: ["kline"]
        max_length: 2000                               # 控制在2000字
        sections: 6
        focus_on_changes: true
        comparison_required: true
        format_style: "narrative"

# ========================================
# 维度说明
# ========================================
dimensions:
  # 分析视角（如何分析）
  analysis_perspectives:
    professional:
      name: "专业深度分析"
      description: "多维度深度分析，包含基本面、技术面、估值、行业"
      target_audience: "专业投资者、机构研究员"
      analysis_depth: "深度"
      methods:
        - "基本面分析（财务数据、业绩趋势、行业地位）"
        - "技术面分析（趋势形态、量价关系、技术指标）"
        - "估值分析（相对估值、绝对估值）"
        - "行业分析（产业趋势、竞争格局）"
      
    normal:
      name: "通俗叙事分析"
      description: "故事化叙事，6段式逻辑推导"
      target_audience: "普通投资者、散户"
      analysis_depth: "适中"
      methods:
        - "热点事件切入法（抓住注意力）"
        - "逻辑链推导法（从现象到本质）"
        - "宏观映射法（从个股到产业）"
        - "结构化拆解法（3个核心维度）"
  
  # 写作形式（如何组织）
  writing_formats:
    first:
      name: "首次报告"
      description: "完整版报告，包含所有背景和基础信息"
      content_completeness: "完整"
      requirements:
        - "包含公司基本信息和背景"
        - "详细介绍业务模式和竞争优势"
        - "完整的历史数据展示"
        - "全面的分析框架"
      
    incremental:
      name: "增量报告"
      description: "只关注变化，对比上次报告"
      content_completeness: "增量"
      requirements:
        - "对比上次报告的数据变化"
        - "突出新发生的事件"
        - "分析趋势的延续或转变"
        - "简化重复的基础信息"

# ========================================
# 正交性说明
# ========================================
# 这两个维度是完全独立的：
# 
# 1. 分析视角决定"如何分析"：
#    - professional: 用专业的多维度深度分析方法
#    - normal: 用通俗的叙事推导方法
# 
# 2. 写作形式决定"如何组织"：
#    - first: 完整版，包含所有背景
#    - incremental: 增量版，只关注变化
# 
# 3. 两者可以自由组合：
#    - professional + first = 专业完整报告
#    - professional + incremental = 专业增量报告
#    - normal + first = 通俗完整报告
#    - normal + incremental = 通俗增量报告
# 
# 4. 扩展简单：
#    - 新增分析视角（如 quantitative）：只需添加对应的方法论文件
#    - 新增写作形式（如 weekly）：只需添加对应的组织原则文件
#    - 自动组合成新的报告类型，无需修改代码

# ========================================
# 全局设置
# ========================================
global_settings:
  # 通用的合规要求（所有报告都需要）
  compliance:
    no_investment_advice: true
    risk_warning_required: true
    objectivity_required: true
    data_source_required: true
  
  # 文件命名规则
  filename_patterns:
    stock_report: "{stock_code}_{perspective}_{date}.md"
    image: "images/{stock_code}/{chart_type}.png"
  
  # 默认设置
  defaults:
    chart_dpi: 300
    chart_size: [1200, 800]
    color_scheme: "china"  # 涨红跌绿
